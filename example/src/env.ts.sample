export type Env = {
  API_KEY: string;
  SITE_ID: string;
};

// Replace placeholders with Customer.io API keys
const envConfigs = {
  primary: {
    API_KEY: '<CDP_API_KEY>',
    SITE_ID: '<SITE_ID>',
  } satisfies Env,
  // Optional: for iOS FCM testing
  secondary: {
    API_KEY: '<CDP_API_KEY>',
    SITE_ID: '<SITE_ID>',
  } satisfies Env,
};

// Maps app names from index.js to configs. Modify if you change app names.
const appEnvMap: Record<string, Env> = {
  'React Native APN': envConfigs.primary,
  'React Native Android': envConfigs.primary,
  'React Native FCM': envConfigs.secondary,
};

export function getEnvForApp(appName: string): Env {
  const env = appEnvMap[appName];
  
  if (!env) {
    console.warn(
      `No environment config found for app: "${appName}". Using primary config as fallback. Available app names: ${Object.keys(appEnvMap).join(', ')}`
    );
    return envConfigs.primary;
  }
  
  return env;
}
